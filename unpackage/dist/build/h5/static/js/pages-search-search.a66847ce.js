(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"03dc":function(t,e,a){var n=a("cf19");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("a9bede1c",n,!0,{sourceMap:!1,shadowMode:!1})},"0951":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"musichead",data:function(){return{statusBarHeight:20,navBarHeight:40,lineHeight:40,buttonHeight:32,buttonTop:4}},props:["title","icon","color","iconblack"],created:function(){var t=uni.getSystemInfoSync();this.statusBarHeight=t.statusBarHeight},methods:{handleToBack:function(){uni.navigateBack()},handleToHome:function(){uni.navigateTo({url:"/pages/index/index"})}}};e.default=n},"250c":function(t,e,a){var n=a("ad97");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("f6831044",n,!0,{sourceMap:!1,shadowMode:!1})},"3d68":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baseUrl=void 0;var n="https://autumnfish.cn/";e.baseUrl=n},"4f58":function(t,e,a){"use strict";var n=a("03dc"),i=a.n(n);i.a},"5e04":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@font-face{font-family:iconfont;\r\n\t/* Project id 3283931 */src:url(//at.alicdn.com/t/font_3283931_c27tar177b8.eot?t=1650355354309);\r\n\t/* IE9 */src:url(//at.alicdn.com/t/font_3283931_c27tar177b8.eot?t=1650355354309#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_3283931_c27tar177b8.woff2?t=1650355354309) format("woff2"),url(//at.alicdn.com/t/font_3283931_c27tar177b8.woff?t=1650355354309) format("woff"),url(//at.alicdn.com/t/font_3283931_c27tar177b8.ttf?t=1650355354309) format("truetype"),url(//at.alicdn.com/t/font_3283931_c27tar177b8.svg?t=1650355354309#iconfont) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-bofang2:before{content:"\\e624"}.icon-bofang3:before{content:"\\e62b"}.icon-zuojiantou:before{content:"\\e6e1"}.icon-fangdajing:before{content:"\\e6e4"}.icon-icon:before{content:"\\e6a0"}.icon-yousanjiao:before{content:"\\e629"}.icon-guanbi:before{content:"\\e6cc"}.icon-zanting:before{content:"\\e62a"}.icon-bofang:before{content:"\\e710"}.icon-shouye:before{content:"\\e619"}.icon-bofang1:before{content:"\\e60e"}.icon-fenxiang:before{content:"\\e618"}.icon-dianzan:before{content:"\\e61a"}',""]),t.exports=e},6062:function(t,e,a){"use strict";var n=a("6d61"),i=a("6566");t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6566:function(t,e,a){"use strict";var n=a("9bf2").f,i=a("7c73"),o=a("e2cc"),s=a("0366"),r=a("19aa"),c=a("2266"),u=a("7dd0"),d=a("2626"),l=a("83ab"),h=a("f183").fastKey,f=a("69f3"),v=f.set,b=f.getterFor;t.exports={getConstructor:function(t,e,a,u){var d=t((function(t,n){r(t,d,e),v(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=n&&c(n,t[u],t,a)})),f=b(e),g=function(t,e,a){var n,i,o=f(t),s=p(t,e);return s?s.value=a:(o.last=s={index:i=h(e,!0),key:e,value:a,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=s),n&&(n.next=s),l?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},p=function(t,e){var a,n=f(t),i=h(e);if("F"!==i)return n.index[i];for(a=n.first;a;a=a.next)if(a.key==e)return a};return o(d.prototype,{clear:function(){var t=this,e=f(t),a=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete a[n.index],n=n.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,a=f(e),n=p(e,t);if(n){var i=n.next,o=n.previous;delete a.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),a.first==n&&(a.first=i),a.last==n&&(a.last=o),l?a.size--:e.size--}return!!n},forEach:function(t){var e,a=f(this),n=s(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:a.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!p(this,t)}}),o(d.prototype,a?{get:function(t){var e=p(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),l&&n(d.prototype,"size",{get:function(){return f(this).size}}),d},setStrong:function(t,e,a){var n=e+" Iterator",i=b(e),o=b(n);u(t,e,(function(t,e){v(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,a=t.last;while(a&&a.removed)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?"keys"==e?{value:a.key,done:!1}:"values"==e?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),d(e)}}},"942f":function(t,e,a){"use strict";a.r(e);var n=a("0951"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},9699:function(t,e,a){var n=a("5e04");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("59c7f2f0",n,!0,{sourceMap:!1,shadowMode:!1})},"9a02":function(t,e,a){"use strict";a.r(e);var n=a("a1a9"),i=a("942f");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("9acb");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"84ae8602",null,!1,n["a"],s);e["default"]=c.exports},"9acb":function(t,e,a){"use strict";var n=a("250c"),i=a.n(n);i.a},a1a9:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{style:{height:t.statusBarHeight+"px"}}),a("v-uni-view",{staticClass:"music-head",style:{color:t.color,height:t.navBarHeight+"px",lineHeight:t.lineHeight+"px"}},[t.icon?a("v-uni-view",{staticClass:"music-head-icon",class:{"music-head-iconblank":t.iconblack},style:{height:t.buttonHeight+"px",top:t.buttonTop+"px"}},[a("v-uni-text",{staticClass:"iconfont icon-zuojiantou",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleToBack.apply(void 0,arguments)}}}),a("v-uni-text",[t._v("|")]),a("v-uni-text",{staticClass:"iconfont icon-shouye",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleToHome.apply(void 0,arguments)}}})],1):t._e(),a("v-uni-view",{staticClass:"music-head-title"},[t._v(t._s(t.title))])],1)],1)},o=[]},ad97:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".music-head[data-v-84ae8602]{position:relative;overflow:hidden;width:100%;height:40px;line-height:40px;font-size:16px;text-align:center;color:#000}.music-head-icon[data-v-84ae8602]{position:absolute;left:8px;top:4px;width:90px;height:32px;line-height:32px;background:rgba(0,0,0,.4);color:#fff;border-radius:16px;display:flex;justify-content:space-evenly}\n\n/* 竖线 */.music-head-icon uni-text[data-v-84ae8602]:nth-child(2){font-size:14px;font-weight:100}.music-head-iconblank[data-v-84ae8602]{color:#000;border:1px #eaeaea solid;background-color:#fff}",""]),t.exports=e},c618:function(t,e,a){"use strict";a("99af"),a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.topList=i,e.list=o,e.songDetail=s,e.songSimi=r,e.songComment=c,e.songLyric=u,e.songUrl=d,e.searchHot=l,e.searchWord=h,e.searchSuggest=f;var n=a("3d68");function i(){return new Promise((function(t,e){uni.request({url:"".concat(n.baseUrl,"/toplist/detail"),method:"GET",data:{},success:function(e){var a=e.data.list;a.length=4,t(a)},fail:function(){},complete:function(){}})}))}function o(t){return uni.request({url:"".concat(n.baseUrl,"/playlist/detail?id=").concat(t),method:"GET"})}function s(t){return uni.request({url:"".concat(n.baseUrl,"/song/detail?ids=").concat(t),method:"GET"})}function r(t){return uni.request({url:"".concat(n.baseUrl,"/simi/song?id=").concat(t),method:"GET"})}function c(t){return uni.request({url:"".concat(n.baseUrl,"/comment/music?id=").concat(t),method:"GET"})}function u(t){return uni.request({url:"".concat(n.baseUrl,"/lyric?id=").concat(t),method:"GET"})}function d(t){return uni.request({url:"".concat(n.baseUrl,"/song/url?id=").concat(t),method:"GET"})}function l(){return uni.request({url:"".concat(n.baseUrl,"/search/hot/detail"),method:"GET"})}function h(t){return uni.request({url:"".concat(n.baseUrl,"/search?keywords=").concat(t),method:"GET"})}function f(t){return uni.request({url:"".concat(n.baseUrl,"/search/suggest?keywords=").concat(t,"&type=mobile"),method:"GET"})}},cf19:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".search-search[data-v-b77dbcac]{display:flex;align-items:center;height:%?70?%;margin:%?10?% %?30?% %?30?% %?30?%;background:#f7f7f7;border-radius:%?50?%}.search-search uni-text[data-v-b77dbcac]{margin:0 %?26?%}.search-search uni-input[data-v-b77dbcac]{flex:1;font-size:%?26?%}.search-history[data-v-b77dbcac]{margin:0 %?30?% %?50?%}.search-history-head[data-v-b77dbcac]{display:flex;justify-content:space-between;margin-bottom:%?36?%}.search-history-list[data-v-b77dbcac]{display:flex;flex-wrap:wrap;font-size:%?22?%}.search-history-list uni-view[data-v-b77dbcac]{padding:%?16?% %?28?%;border-radius:%?40?%;margin-right:%?30?%;margin-bottom:%?30?%;background:#f7f7f7}.search-history-list uni-text[data-v-b77dbcac]{padding:%?16?% %?28?%;margin-bottom:%?30?%;color:#ccc}.search-hot[data-v-b77dbcac]{margin:0 %?30?%;overflow:hidden}.search-hot-head[data-v-b77dbcac]{margin-bottom:%?36?%}.search-hot-item[data-v-b77dbcac]{display:flex;align-items:center;margin-bottom:%?58?%}.search-hot-top[data-v-b77dbcac]{color:#fb2222;width:%?60?%;margin-left:%?8?%}.search-hot-word[data-v-b77dbcac]{flex:1;width:0}.search-hot-word uni-view[data-v-b77dbcac]:nth-child(1){font-size:%?30?%;color:#000}.search-hot-word uni-view[data-v-b77dbcac]:nth-child(2){font-size:%?22?%;color:#878787;margin-top:%?8?%;width:92%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.search-hot-word uni-image[data-v-b77dbcac]{width:%?48?%;height:%?22?%;margin-left:%?8?%}.search-hot-count[data-v-b77dbcac]{color:#878787;font-size:%?22?%}.search-result[data-v-b77dbcac]{border-top:%?2?% solid #e4e4e4;padding:%?30?%}.search-result-item[data-v-b77dbcac]{display:flex;justify-content:space-between;align-items:center;padding-bottom:%?30?%;margin-bottom:%?30?%;border-bottom:%?2?% solid #e4e4e4}.search-result-word uni-view[data-v-b77dbcac]:nth-child(1){font-size:%?28?%;color:#235790;margin-bottom:%?12?%}.search-result-word uni-view[data-v-b77dbcac]:nth-child(2){font-size:%?22?%;color:#898989}.search-result-word uni-text[data-v-b77dbcac]{font-size:%?50?%}.search-suggest[data-v-b77dbcac]{border-top:%?2?% #e4e4e4 solid;padding:%?30?%;font-size:%?26?%}.search-suggest-head[data-v-b77dbcac]{color:#4574a4;margin-bottom:%?74?%;font-size:%?26?%}.search-suggest-item[data-v-b77dbcac]{color:#5d5d5d;margin-bottom:%?74?%}.search-suggest-item uni-text[data-v-b77dbcac]{color:#bdbdbd;margin-right:%?28?%;position:relative;top:%?2?%}",""]),t.exports=e},d016:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={musichead:a("9a02").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"search"},[a("musichead",{attrs:{title:"搜索",icon:!0,iconblack:!0}}),a("v-uni-view",{staticClass:"container",style:{height:"calc(100vh - "+t.statusBarHeight+"px - "+t.navBarHeight+"px)"}},[a("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"search-search"},[a("v-uni-text",{staticClass:"iconfont icon-fangdajing"}),a("v-uni-input",{attrs:{type:"text",placeholder:"搜索歌曲"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.handleToSearch(t.searchWord)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleToSuggest.apply(void 0,arguments)}},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}}),a("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:1!=t.searchType,expression:"searchType != 1"}],staticClass:"iconfont icon-guanbi",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleToClose.apply(void 0,arguments)}}})],1),1==t.searchType?[a("v-uni-view",{staticClass:"search-history"},[a("v-uni-view",{staticClass:"search-history-head"},[a("v-uni-text",[t._v("历史记录")]),a("v-uni-text",{staticClass:"iconfont icon-icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleToClear.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"search-history-list"},[t._l(t.searchHistory,(function(e,n){return a("v-uni-view",{key:n,on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleToWord(e)}}},[t._v(t._s(e))])})),a("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:0==t.searchHistory.length,expression:"searchHistory.length == 0"}]},[t._v("无历史记录")])],2)],1),a("v-uni-view",{staticClass:"search-hot"},[a("v-uni-view",{staticClass:"search-hot-head"},[t._v("热搜榜")]),t._l(t.searchHot,(function(e,n){return a("v-uni-view",{key:n,staticClass:"search-hot-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleToWord(e.searchWord)}}},[a("v-uni-view",{staticClass:"search-hot-top"},[t._v(t._s(n+1))]),a("v-uni-view",{staticClass:"search-hot-word"},[a("v-uni-view",[t._v(t._s(e.searchWord)),a("v-uni-image",{attrs:{src:e.iconUrl,mode:"aspectFit"}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!(""===e.content),expression:"!(item.content === '')"}]},[t._v(t._s(e.content))])],1),a("v-uni-text",{staticClass:"search-hot-count"},[t._v(t._s(e.score))])],1)}))],2)]:2==t.searchType?[a("v-uni-view",{staticClass:"search-result"},t._l(t.searchList,(function(e,n){return a("v-uni-view",{key:n,staticClass:"search-result-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleToDetail(e.id)}}},[a("v-uni-view",{staticClass:"search-result-word"},[a("v-uni-view",[t._v(t._s(e.name))]),a("v-uni-view",[t._v(t._s(e.artists[0].name)+" - "+t._s(e.album.name))])],1),a("v-uni-text",{staticClass:"iconfont icon-bofang1"})],1)})),1)]:3==t.searchType?[a("v-uni-view",{staticClass:"search-suggest"},[a("v-uni-view",{staticClass:"search-suggest-head"},[t._v("搜索“"+t._s(t.searchWord)+"”")]),t._l(t.searchSuggest,(function(e,n){return a("v-uni-view",{key:n,staticClass:"search-suggest-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleToWord(e.keyword)}}},[a("v-uni-text",{staticClass:"iconfont icon-fangdajing"}),t._v(t._s(e.keyword))],1)}))],2)]:t._e()],2)],1)],1)},o=[]},d692:function(t,e,a){"use strict";a.r(e);var n=a("d016"),i=a("d91b");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("4f58");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"b77dbcac",null,!1,n["a"],s);e["default"]=c.exports},d91b:function(t,e,a){"use strict";a.r(e);var n=a("dd27"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},dd27:function(t,e,a){"use strict";var n=a("4ea4");a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909"));a("9699");n(a("9a02"));var o=a("c618"),s={data:function(){return{searchHot:[],searchWord:"",searchHistory:[],searchType:1,searchList:[],searchSuggest:[],statusBarHeight:20,navBarHeight:40}},onLoad:function(){var t=this,e=uni.getSystemInfoSync();this.statusBarHeight=e.statusBarHeight,(0,o.searchHot)().then((function(e){200==e[1].data.code&&(t.searchHot=e[1].data.data)})),uni.getStorage({key:"searchHistory",success:function(e){t.searchHistory=e.data}})},methods:{handleToWord:function(t){this.searchWord=t,this.handleToSearch(t)},handleToSearch:function(t){this.searchHistory.unshift(t),this.searchHistory=(0,i.default)(new Set(this.searchHistory)),this.searchHistory.length>10&&(this.searchHistory.length=10),uni.setStorage({key:"searchHistory",data:this.searchHistory}),this.getSearchList(t)},handleToClear:function(){var t=this;uni.removeStorage({key:"searchHistory",success:function(e){t.searchHistory=[]}})},getSearchList:function(t){var e=this;(0,o.searchWord)(t).then((function(t){200==t[1].data.code&&(e.searchList=t[1].data.result.songs,e.searchType=2)}))},handleToClose:function(){this.searchWord="",this.searchType=1},handleToDetail:function(t){uni.navigateTo({url:"/pages/detail/detail?songId="+t})},handleToSuggest:function(t){var e=this,a=t.detail.value;a?(0,o.searchSuggest)(a).then((function(t){200==t[1].data.code&&(e.searchSuggest=t[1].data.result.allMatch,e.searchType=3)})):this.searchType=1}}};e.default=s}}]);